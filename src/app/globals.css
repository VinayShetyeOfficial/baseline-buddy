
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 231 48% 94%;
    --foreground: 231 40% 15%;
    --card: 231 48% 98%;
    --card-foreground: 231 40% 15%;
    --popover: 231 48% 98%;
    --popover-foreground: 231 40% 15%;
    --primary: 231 48% 54%;
    --primary-foreground: 231 48% 98%;
    --secondary: 231 48% 88%;
    --secondary-foreground: 231 40% 15%;
    --muted: 231 48% 88%;
    --muted-foreground: 231 40% 45%;
    --accent: 261 44% 63%;
    --accent-foreground: 231 48% 98%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 231 48% 85%;
    --input: 231 48% 85%;
    --ring: 231 48% 54%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
  .dark {
    --background: 231 20% 12%;
    --foreground: 231 20% 95%;
    --card: 231 20% 18%;
    --card-foreground: 231 20% 95%;
    --popover: 231 20% 18%;
    --popover-foreground: 231 20% 95%;
    --primary: 231 48% 54%;
    --primary-foreground: 231 48% 98%;
    --secondary: 231 20% 24%;
    --secondary-foreground: 231 20% 95%;
    --muted: 231 20% 24%;
    --muted-foreground: 231 20% 65%;
    --accent: 261 44% 63%;
    --accent-foreground: 231 48% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 231 20% 28%;
    --input: 231 20% 28%;
    --ring: 231 48% 54%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
  .prose :where(code):not(:where([class~="not-prose"] *)) {
    color: #4553a1;
    background-color: hsl(var(--muted));
    padding: 0.2em 0.4em;
    border-radius: 0.25rem;
    font-weight: 600;
  }
  .prose :where(code):not(:where([class~="not-prose"] *))::before,
  .prose :where(code):not(:where([class~="not-prose"] *))::after {
    content: "";
  }
  .prose table {
    @apply w-full my-6;
  }
  .prose th {
    @apply border border-border px-4 py-2 text-left font-bold;
  }
  .prose td {
    @apply border border-border px-4 py-2;
  }
  .prose thead {
    @apply border-b border-border;
  }
  .prose tbody tr:nth-child(even) {
    @apply bg-muted/50;
  }

}

@layer components {
  /* Custom scrollbar for code blocks */
  .code-block-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.5) transparent;
  }

  .code-block-scrollbar::-webkit-scrollbar {
    height: 8px;
    width: 8px;
  }

  .code-block-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .code-block-scrollbar::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.5);
    border-radius: 10px;
    border: 3px solid transparent;
    background-clip: content-box;
  }

  .code-block-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.8);
  }

  /* Floating chat launcher icon size */
  .chat-launcher-icon {
    width: 2rem !important;
    height: 2rem !important;
  }
}

/* Custom scrollbar for CodeMirror */
.cm-scroller::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.cm-scroller::-webkit-scrollbar-track {
  background-color: #1d293d;
}

.cm-scroller::-webkit-scrollbar-thumb {
  background-color: #45556c;
  border-radius: 3px;
}

.cm-scroller::-webkit-scrollbar-thumb:hover {
  background-color: #4e617c;
}

.cm-scroller::-webkit-scrollbar-button {
    display: none;
}

/* Custom Scrollbar for Chat */
.chat-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted)) transparent;
}
.chat-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.chat-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.chat-scrollbar::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted));
  border-radius: 10px;
  border: 2px solid transparent;
  background-clip: content-box;
}
.chat-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--muted-foreground) / 0.8);
}

/* Custom scrollbar for chat textarea */
.chat-textarea::-webkit-scrollbar {
  width: 4px;
}
.chat-textarea::-webkit-scrollbar-track {
  background: transparent;
}
.chat-textarea::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted));
  border-radius: 2px;
}
.chat-textarea::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--muted-foreground) / 0.8);
}
.chat-textarea::-webkit-scrollbar-button {
  display: none;
}
.chat-input-textarea:focus-visible {
    --tw-ring-shadow: none;
}

.avatar-shadow {
  box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
}

/* Bouncing loader for chat */
.bouncing-loader {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
}

.bouncing-loader > div {
  width: 8px;
  height: 8px;
  margin: 3px 4px;
  border-radius: 50%;
  background-color: hsl(var(--muted-foreground) / 0.6);
  animation: bouncing-loader 1.4s infinite ease-in-out both;
}

.bouncing-loader .dot1 {
  animation-delay: -0.32s;
}

.bouncing-loader .dot2 {
  animation-delay: -0.16s;
}

@keyframes bouncing-loader {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1.0);
  }
}
